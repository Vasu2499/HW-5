"0","library(data.table)"
"0","library(nycflights13)"
"0","library(kableExtra)"
"0","library(knitr)"
"0",""
"0","# Convert relevant datasets to data.table"
"0","flights_dt <- as.data.table(flights)"
"0","airports_dt <- as.data.table(airports)"
"0","planes_dt <- as.data.table(planes)"
"0",""
"0","# Departure delay summary"
"0","departure_delay_summary <- flights_dt["
"0","  !is.na(dep_delay), # Exclude rows with NA dep_delay"
"0","  .("
"0","    `Mean Delay` = mean(dep_delay, na.rm = TRUE),"
"0","    `Median Delay` = median(dep_delay, na.rm = TRUE),"
"0","    Flights = .N"
"0","  ), by = dest"
"0","]["
"0","  Flights >= 10"
"0","]["
"0","  order(-`Mean Delay`)"
"0","]["
"0","  airports_dt, on = .(dest = faa), nomatch = 0"
"0","]["
"0","  , .(name, `Mean Delay`, `Median Delay`, Flights) # Use the column directly after the join"
"0","]"
"0",""
"0","if (nrow(departure_delay_summary) == 0) {"
"0","  departure_delay_summary <- data.table(name = NA, `Mean Delay` = NA, `Median Delay` = NA, Flights = NA)"
"0","}"
"0",""
"0","kable(departure_delay_summary, caption = ""Departure Delays"", digits = 1, align = 'c')"
